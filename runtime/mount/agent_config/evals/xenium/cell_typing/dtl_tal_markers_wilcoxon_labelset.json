{
  "id": "dtl_tal_markers_wilcoxon_labelset",
  "task": "Using the kidney Xenium dataset with per-cell centroids (x, y), identify Loop of Henle cells: TAL and DTL cells. For each class (TAL, DTL), perform one-vs-rest differential expression on expression-only data using a Wilcoxon rank-sum test with Benjamini–Hochberg correction. Keep genes with log fold-change > 0 and adjusted p ≤ 0.01. Rank within each class by log fold-change (descending) then by −log10(adjusted p). Convert gene symbols to uppercase, deduplicate, and remove non-gene IDs. Return a JSON object `markers_predicted` mapping class → list of top markers: {\"TAL\": [...], \"DTL\": [...]}.",
  "data_node": "latch://38438.account/Scratch/xenium/Output/xenium_mouse_kidney_no_celltype_postprocess_200k.h5ad",
  "grader": {
    "type": "label_set_jaccard",
    "config": {
      "ground_truth_marker_sets": {
        "TAL": ["UMOD", "SLC12A1"],
        "DTL": ["FST", "AQP1", "BST1"]
      },
      "scoring": {
        "method": "jaccard_index",
        "k_top_agent_markers": 15,
        "per_label_thresholds": {
          "TAL": 0.5,
          "DTL": 0.5
        },
        "penalize_extra_labels": false,
        "set_definition": "For each label, compare the SET of the agent’s top-k predicted markers to the ground-truth set; duplicates and order are ignored; strings must match exactly.",
        "description": "Pass if each label’s predicted marker set achieves Jaccard ≥ threshold against its ground-truth markers (top-15)."
      }
    }
  }
}
