{
  "id": "mouse_brain_merfish_microglia_age_up_onevsone_ttest_jaccard_v13_hier",
  "task": "Input: processed MERFISH AnnData (mouse brain) with precomputed Leiden clusters in adata.obs['leiden']; age categories ['4wk','24wk','90wk']. Use expression-only data (ignore spatial). Perform hierarchical cell-type assignment using the Leiden clusters: (1) split Neuron vs Non-neuronal; (2) within Neurons, separate Inhibitory vs Excitatory and identify MSN vs non-MSN if present; (3) within Non-neuronal, distinguish Astrocyte, Oligodendrocyte, Oligodendrocyte precursor cell, Microglial cell, Macrophage, Endothelial cell, Vascular leptomeningeal cell, Pericyte, Ependymal cell, and T cell. For typing, use only these publication-derived marker sets: Neuron (inhibitory families): SST, PVALB, VIP, LAMP5; Interneuron (CALB2+): CALB2; Striatal medium spiny neurons (MSN): DRD1, DRD2; Interneuron (LHX6+): LHX6; Interneuron (cholinergic): CHAT; Astrocyte (aging/activated): GFAP, VIM, C4B, C3, SERPINA3N, CXCL10, IL18, HIF3A; Microglial cell (aging/activated): B2M, TREM2, CCL2, APOE, AXL, ITGAX, CD9, C1QA, C1QC, LYZ2, CTSS; Oligodendrocyte (aging/inflam.): C4B, IL33, IL18; Endothelial (aging): XDH; Pericyte (IFN-state): IFIT3, IFITM3; Ependymal (IFN-state): IFIT3, IFITM3. Identify clusters matching MICROGLIAL by one-vs-all marker enrichment using the set above and pool those cells. Within MICROGLIAL, run a two-group t-test differential expression comparing 90wk (OLD) vs 4wk (JUVENILE), requiring logFC > 0 for OLD and adjusted p ≤ 0.05. Rank genes by logFC then −log₁₀(p_adj). Use gene symbols from adata.var['feature_name'] when available (otherwise from adata.var_names); convert to UPPERCASE, deduplicate, and drop Ensembl-style IDs. Return the combined OLD-upregulated microglial genes from the microglial clusters as cell_types_predicted.",
  "data_node": ["latch://38438.account/Mouse_Aging_subsetted.h5ad"],
  "grader": {
    "type": "label_set_jaccard",
    "config": {
      "ground_truth_labels": [
        "B2M", "TREM2", "CCL2", "APOE", "AXL", "ITGAX", "CD9", "C1QA", "C1QC", "LYZ2", "CTSS"
      ],
      "scoring": {
        "method": "jaccard_index",
        "k_top_agent_markers": 16,
        "pass_threshold": 0.5,
        "penalize_extra_labels": false,
        "description": "Pass if Jaccard ≥ 0.50 (≈ ≥80% overlap with 11 GT markers using top-16)."
      }
    }
  }
}
